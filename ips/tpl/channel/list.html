<div id="ips-channells-alert"></div>

<div class="incp-div-light">
  <div id="ips-channells"></div>
</div>

<script id="ips-channells-tpl" type="text/html">  
<table class="table table-hover">
<thead>
  <tr>
    <th>Channel</th>
    <th>Vendor</th>
    <th>Packages</th>
    {[? it._stat_size_on]}
    <th>Size</th>
    {[?]}
    <th>Updated</th>
    <th></th>
  </tr>
</thead>
<tbody>
{[~it.items :v]}
<tr>
  <td>{[=v.meta.name]}</td>
  <td>
    {[if (v.upstream == "1") { ]}
    <a href="{[=v.vendor_site]}" target="_blank">{[=v.vendor_name]}</a></td>
    {[ } else { ]}
      {[=v.vendor_name]}
    {[ } ]}
  </td>
  <td>{[=v.stat_num]}</td>
  {[? it._stat_size_on]}
  <td>{[=inpack.UtilResourceSizeFormat(v.stat_size, 2)]}</td>
  {[?]}
  <td>{[=valueui.utilx.unixMillisecondFormat(v.meta.updated, "Y-m-d")]}</td>
  <td align="right">
    {[if (inpack.Status.user_channel_write) {]}
    <button onclick="inpack.ChannelSet('{[=v.meta.name]}')"
      class="btn btn-sm btn-primary">
      <span class="glyphicon glyphicon-cog" aria-hidden="true"></span> Setting
	  </button>
    {[}]}
  </td>
</tr>
{[~]}
</tbody>
</table>
</script>

<script type="text/html" id="ips-channells-optools">
{[if (inpack.Status.user_channel_write) {]}
<li class="incp-btn incp-btn-primary">
  <a href="#" onclick="inpack.ChannelSet()">
    New Package Channel
  </a>
</li>
{[}]}
</script>

